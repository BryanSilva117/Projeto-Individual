<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./img/DCLOGO3.png">
    <title>Detective Comics Herois</title>
    <link rel="stylesheet" href="./css/quizP.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital@1&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>

    <script src="./js/funcoes.js"></script>

</head>

<body>

    <header class="header">

        <div class="fechar" id="diminuir">
            <a onclick="fechar()">
                <img src="https://cdn-icons-png.flaticon.com/512/56/56763.png" alt="" width="30px">
            </a>
        </div>

        <div class="logo">
            <a href="./index.html">
                <img src="./img/DCLOGO3.png" alt="LOGOPG">
            </a>
        </div>

        <div class="sair">
            <a href="./index.html" title="Voltar para o Inicio"><img
                    src="https://cdn-icons-png.flaticon.com/512/1828/1828479.png" alt="" width="30px"></a>
        </div>



    </header>

    <div class="inicio">
        <div class="lateral1" id="lateralI" style="margin-left: 0vh;">
            <div class="lateral">
                <div>
                    <h1>Seja bem Vindo!<div id="div_usuario">usuário!</div>
                    </h1>
                    <br><br>
                </div>
                <h1>Equipes DC</h1>
                <br>
                <br>

                <div>
                    <a href="#justice">Liga da Justiça</a>
                    <br>
                    <a href="#justiceSombira">Liga da Justisa Sombria</a>
                    <br>
                    <a href="#Sociedade">Sociedade da Justiça</a>
                    <br>
                    <a href="#JusticeJovem">Justiça Jovem</a>
                    <br>
                    <a href="#JovensTita">Jovens Titã</a>
                    <br>
                    <a href="#FamíliaMarvel">Família Marvel</a>
                    <br><br>
                    <h1>Vilões/Anti-Herois</h1>
                    <br>
                    <a href="#leagueIn">Liga da Injustiça</a>
                    <br>
                    <a href="#suicideScquade">Esquadrão Suicida</a>
                    <br><br>
                    <h1>Dash</h1>
                    <br>
                    <a href="./DashPerso.html">Membros da Liga preferidos</a>
                    <br><br>

                </div>
            </div>
        </div>
        <!-- <div>
            <img id="trofeu" src="./img/trofeu-removebg-preview.png" alt="" style="position: absolute;">
        </div> -->

        <div>
            <div>
                <br>
                <br>
                <ul>
                    <div class="reponda" id="responder" style="margin-left: 76vh; display: block;">

                        <h1>Charada Hackeou o Site!!!</h1>
                        <br>
                        <h2>Responda as perguntas do Chadara<br>
                            para o Batman conseguir capturar ele</h3>
                            <img src="https://media.tenor.com/--AQwe1rA8EAAAAi/batman-pixel-art.gif" alt=""
                                width="300px">
                            <br><br>

                            <button onclick="responder()">Responder</button>
                    </div>

                    <div class="quizH" id="quizH" style="display: none; margin-left: 57vh;">
                        <h1><span>Responda as Perguntas do Charada</span></h1>
                        <br>
                        <h3>O que é que se compra para comer, mas não se come?</h3>
                        <br>
                        <select class="OpcoesR" id="pergunta_1">
                            <option value="" disabled selected hidden>Escolher</option>
                            <option value="0">Talheres</option>
                            <option value="0">Guardanapo</option>
                            <option value="0">Copo</option>
                            <option value="1">Prato</option>
                            <option value="0">Toalha de mesa</option>
                            <option value="0">Colher</option>
                        </select><br>
                        <br>

                        <h3>Posso ocupar uma sala ou apenas um coração. <br>
                            Outros podem me ter, mas não posso ser
                            divididos, o que sou eu?</h3>
                        <br>
                        <select class="OpcoesR" id="pergunta_5">
                            <option value="" disabled selected hidden>Escolher</option>
                            <option value="0">A esperança</option>
                            <option value="0">A luz</option>
                            <option value="0">O fogo</option>
                            <option value="0"> A vida</option>
                            <option value="1">Solidão</option>
                            <option value="0"> A água</option>
                        </select><br><br>

                        <h3>O que é tão frágil que pode ser quebrado apenas ao ser mencionado?</h3>
                        <br><br>
                        <select class="OpcoesR" id="pergunta_3">
                            <option value="" disabled selected hidden>Escolher</option>
                            <option value="0">O vidro</option>
                            <option value="0">O tempo</option>
                            <option value="0">A paciência</option>
                            <option value="0">A memória</option>
                            <option value="0">O segredo</option>
                            <option value="1">O silêncio</option>
                        </select><br><br>


                        <h3> Posso trazer lágrimas em seu rosto, sou criado<br>
                             em um instante mas duro a vida toda, o que
                            eu sou?</h3>
                        <br>
                        <select class="OpcoesR" id="pergunta_4">
                            <option value="" disabled selected hidden>Escolher</option>
                            <option value="0">Raiva</option>
                            <option value="0">Medo</option>
                            <option value="1">Memórias</option>
                            <option value="0">Lápis</option>
                            <option value="0">Paciência</option>
                            <option value="0">tempo</option>
                        </select><br><br>


                        <h3>O que é que quanto mais se tira, maior fica?</h3>
                        <br>
                        <select class="OpcoesR" id="pergunta_2">
                            <option value="" disabled selected hidden>Escolher</option>
                            <option value="0">Régua</option>
                            <option value="0">Tinta</option>
                            <option value="1">Buraco</option>
                            <option value="0">Borracha</option>
                            <option value="0">Ar</option>
                            <option value="0">Nada</option>
                        </select><br><br>



                        <button onclick="concluir()">Terminar</button>
                    </div>


                </ul>
            </div>
        </div>
    </div>
</body>

<script>
    function responder() {
        var quizH = document.getElementById('quizH')
        var resposta = document.getElementById('responder')

        if (resposta.style.display = 'block') {
            resposta.style.display = 'none'
            quizH.style.display = 'block'
        }
        else {
            resposta.style.display = 'block'
            quizH.style.display = 'none'
        }
    }


    function fechar() {
        var lateral = document.getElementById('lateralI')
        var margin = document.getElementById('diminuir')
        var quizH = document.getElementById('quizH')
        var resposta = document.getElementById('responder')
        if (lateral.style.marginLeft == '0vh') {
            lateral.style.marginLeft = '-40vh'
            margin.style.marginLeft = '2vh'
            quizH.style.marginLeft = '39vh'
            resposta.style.marginLeft = '60vh'
        } else {
            lateral.style.marginLeft = '0vh'
            margin.style.marginLeft = '37vh'
            quizH.style.marginLeft = '57vh'
            resposta.style.marginLeft = '76vh'
        }
    }



    function concluir() {
        var resposta1 = pergunta_1.value
        var resposta2 = pergunta_2.value
        var resposta3 = pergunta_3.value
        var resposta4 = pergunta_4.value
        var resposta5 = pergunta_5.value

        var totalAcertos = 0
        var totalErros = 0

        var corR1 = document.getElementById('pergunta_1')
        var corR2 = document.getElementById('pergunta_2')
        var corR3 = document.getElementById('pergunta_3')
        var corR4 = document.getElementById('pergunta_4')
        var corR5 = document.getElementById('pergunta_5')

        if (resposta1 == "" || resposta2 == "" || resposta3 == "" || resposta4 == "" || resposta5 == "") {
            alert("Preença todos os campos!!")
        }

        else {
            if (resposta1 == 1) {
                totalAcertos++
                corR1.style.backgroundColor = 'green'
            }
            else {
                totalErros++
                corR1.style.backgroundColor = 'red'
            }
            if (resposta2 == 1) {
                totalAcertos++
                corR2.style.backgroundColor = 'green'
            }
            else {
                totalErros++
                corR2.style.backgroundColor = 'red'
            }
            if (resposta3 == 1) {
                totalAcertos++
                corR3.style.backgroundColor = 'green'
            }
            else {
                totalErros++
                corR3.style.backgroundColor = 'red'
            }
            if (resposta4 == 1) {
                totalAcertos++
                corR4.style.backgroundColor = 'green'
            }
            else {
                totalErros++
                corR4.style.backgroundColor = 'red'
            }
            if (resposta5 == 1) {
                totalAcertos++
                corR5.style.backgroundColor = 'green'
            }
            else {
                totalErros++
                corR5.style.backgroundColor = 'red'
            }

            // Enviando o valor da nova input
        fetch("/usuarios/cadastrar", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.js
                nomeServer: cadastro.nomeVar,
                sobrenomeServer: cadastro.sobrenomeVar,
                emailServer: cadastro.emailVar,
                senhaServer: cadastro.senhaVar,
                dtNascServer: cadastro.dtNascVar,
                generoServer: cadastro.generoVar,
                heroFavoritoServer: cadastro.heroFavoritoVar
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                cardErro.style.display = "block";

                mensagem_erro.innerHTML = "Cadastro realizado com sucesso! Redirecionando para tela de Login...";

                setTimeout(() => {
                    window.location = "index.html";
                }, "2000")

                limparFormulario();
                finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            finalizarAguardar();
        });

        return false;
    }

    function sumirMensagem() {
        cardErro.style.display = "none"
    
    }
        }

        console.log(` Acertos ${totalAcertos} erros ${totalErros} porcentagem ${totalAcertos / 5 * 100}`)




//     function exibirImagemAleatoria() {
//     // Obtenha a largura e altura da janela do navegador
//     const janelaLargura = window.innerWidth;
//     const janelaAltura = window.innerHeight;

//     // Obtenha uma referência ao elemento de imagem
//     const trofeu = document.getElementById('trofeu');

//     // Defina as coordenadas x e y aleatórias para a posição do troféu
//     const posX = Math.random() * (janelaLargura - trofeu.width);
//     const posY = Math.random() * (janelaAltura - trofeu.height);

//     // Defina as coordenadas x e y como estilo da posição do troféu
//     trofeu.style.left = posX + 'px';
//     trofeu.style.top = posY + 'px';

//     // Defina a opacidade como 0 para tornar o troféu invisível
//     trofeu.style.opacity = 0;

//     // Aguarde 200 milissegundos para iniciar a transição de opacidade
//     setTimeout(function() {
//         // Defina a opacidade como 1 para tornar o troféu visível novamente
//         trofeu.style.opacity = 1;
//     }, 200);

//     // Aguarde 2500 milissegundos (2,5 segundos) antes de ocultar novamente o troféu
//     setTimeout(function() {
//         // Defina a opacidade como 0 para tornar o troféu invisível novamente
//         trofeu.style.opacity = 0;
//     }, 2500);
// }

// // Chame a função a cada 3 segundos (3000 milissegundos)
// setInterval(exibirImagemAleatoria, 3000);

</script>